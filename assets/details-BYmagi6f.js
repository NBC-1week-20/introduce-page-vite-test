import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as i}from"https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";import{getFirestore as d,Timestamp as p,addDoc as u,collection as m,getDocs as f,query as g,orderBy as y}from"https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";const w={apiKey:"AIzaSyBtVPaMcwLkX8OC8fVfAjpZDxfacykBREU",authDomain:"sparta-e02dc.firebaseapp.com",projectId:"sparta-e02dc",storageBucket:"sparta-e02dc.firebasestorage.app",messagingSenderId:"1000457952288",appId:"1:1000457952288:web:472fe9e7f48a94cea37045",measurementId:"G-H41TVN2QFP"};async function h(){const e=i(w),t=d(e);$("#postingbtn").click(async function(){let n=$("#author-name").val(),a=$("#comment-content").val(),o=p.fromDate(new Date),r={author_name:n,content:a,timestamp:o};await u(m(t,"details"),r),alert("작성완료!"),window.location.reload()}),(await f(g(m(t,"details"),y("timestamp","desc")))).forEach(n=>{let a=n.data(),o=a.author_name,r=a.content,s=a.timestamp.toDate().toLocaleString(),l=`
    <ul class="comment-list">
        <li class="comment">
          <div class="author">${o}</div>
          <div class="content">${r}</div>
          <small class="timestamp">${s}</small>
        </li>
    </ul>
    `;$(".comment-list").before(l)})}async function b(){try{return(await fetch("./asset/data/details.json")).json()}catch(e){console.log(e)}}async function I(){try{const t=new URLSearchParams(window.location.search).get("id");return Number(t)}catch(e){alert("fail load to member Id"),console.log(e)}}function _(e){const t=document.querySelector(".profile_image img");t.src=e.profileImageUrl||"./asset/images/default_profile_image.jpg",t.alt=`${e.name}의 프로필 이미지`;const c=document.querySelector(".profile_team_name");c.textContent=e.teamName||"팀 이름 없음";const n=document.querySelector(".profile_role");n.textContent=e.role||"역할 정보 없음";const a=document.querySelector(".profile_name");a.textContent=e.name||"이름 없음";const o=document.querySelectorAll(".image-row .image");e.images.forEach((r,s)=>{o[s]&&(o[s].style.backgroundImage=`url("${r}")`)})}async function S(){const e=await I(),c=(await b())[e-1];_(c)}S();h();
